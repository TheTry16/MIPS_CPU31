# MIPS_CPU31
## 事先声明
  **代码仅供参考，请勿抄袭**（主要是部分代码没有完全测试，大概率是有问题的，直接照搬要出事了(。_。)）

## 项目介绍
  本次大作业是按照秦国峰老师班上的要求实现的。除了要测试31条MIPS指令之外，还添加了摔鸡蛋的程序的实现以及输出结果，下板版本的code以及xdc、bit等都是按照摔鸡蛋的版本来写的（所以下板版本里面有些变量内容是直接写死了，不能拿去测试仿真结果了，主要还是水平太低不会在一个项目里面完成两个功能，所以只能拆分成两个项目了o(￣▽￣)ｄ）。
 
## 目录结构描述
    ├── code——仿真           // 可以在vivado中进行仿真测试的代码文件

    ├── test_bench——仿真     // 对应仿真版本的tb文件

    ├── code——下板           // 可以进行下板的代码文件

    ├── xdc——下板            // 对应下板所需的xdc文件

    ├── bit——下板            // 下板的bit文件

    ├── asm——下板            // 摔鸡蛋程序对应的汇编代码文件

    ├── 实验报告.pdf         // 实验报告

    ├── README.md           // readme文件
 
##  具体内容说明
  项目里面有两个code文件，一个是用于在vivado中测试31条指令用的，对应的有tb文件；另一个则是用于下板测试摔鸡蛋程序的，所以有xdc、bit文件。

  由于秦老师班上最终提交是需要提交摔鸡蛋版本的代码，因此实验报告也是按照摔鸡蛋的版本进行编写的。所以如果没有要求摔鸡蛋程序的话，可以参考前面的仿真版本代码，如果有要求的话，参考下板的版本就好（当然我下板版本写的好烂，因为前面仿真测试的逻辑写好了之后，再在这个版本上改就很容易出错，我之前几次测试汇编的程序都有问题〒▽〒，后面才改好，所以这个版本比较特化，里面有些变量是专门针对下板后的内容的≡[。。]≡）。
***
  需要指出的是，我当时完成的时候比较赶，里面有一些指令是没有测试过的，仅仅只是按照逻辑去完成了编写，所以大概率会在测试一些指令的时候出一些问题。因此代码也只是提供一个参考，希望能帮你启发到思路(＠_＠)。
***
  CPU的主要问题在于：需要几个模块；哪些模块之间是有联系的；联系的数据是哪些；传递数据时的时钟周期是否是相同的......然后就是设计模块、模块的变量等。就拿我的代码来说，最主要的是在CPU中设计Controller模块，这个模块用来分析各个部分需要传递的寄存器值，以及对应的PC值变化情况，然后再根据使能信号、选择信号，传递给各个模块，最终才能运行起来（这里面设计的非常的头疼，很容易漏掉一些情况没有考虑，所以修改的也是比较多的＞﹏＜）。

  然后就是各个部分的时序问题，有些变量如果在同一时序进行传递的话，就会出现值出错的问题了。所以有些部分的时钟是设置上升沿运行，有些就是下降沿了（具体哪个是上升沿哪个是下降沿不好说，只能自己测试了，我在帮别人debug的时候用反过来的时序是正确的结果，但是在自己电脑上操作的时候是正的，所以我也不知道是怎么回事，很神奇（￣m￣））。

  所以还是再次强调，**代码仅供参考**。vivado还是挺神奇的，同一份代码在不同的设备上运行的结果会不同，所以也希望你能够按照思路去编写能够在你自己设备上跑起来的代码。
***
  相关内容我在报告中有提及过，如果不是很清楚的话，可以参考我的实验报告，希望能够帮助你理清CPU的设计思路，以及帮你解决遇到的问题o((>ω< ))o。
***
  我在完成CPU的时候参考了ZhengBryan大佬和Misaka-N大佬的思路，两个大佬设计的都非常出色，很好地帮我理清整体CPU框架地思路。如果说你看我的代码理解不是很清楚的话，可以回去参考两位大佬的框架(≧∇≦)ﾉ，他们的帮助文档和报告都写的很详细，可以帮你更好的理解整个CPU的项目。

  这是ZhengBryan大佬的仓库链接：[TongjiCS-Undergraduate-Courses/计算机组成原理课程设计-陈永生
/31条指令CPU](https://github.com/ZhengBryan/TongjiCS-Undergraduate-Courses/tree/main/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1-%E9%99%88%E6%B0%B8%E7%94%9F/31%E6%9D%A1%E6%8C%87%E4%BB%A4CPU)

  这是Misaka-N大佬的仓库链接：[TJCS-SingleCircleCPU31](https://github.com/Misaka-N/TJCS-SingleCircleCPU31)

 
 
## 版本内容更新
##### 2025.4.5
    提交了code、bit、xdc等相关代码以及实验报告
 
 
